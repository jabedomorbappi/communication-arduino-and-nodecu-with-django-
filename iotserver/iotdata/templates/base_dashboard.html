{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>{% block title %}IoT EV Dashboard{% endblock %}</title>

<!-- FONTS & ICONS -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Orbitron:wght@600;800&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<!-- PLOTLY -->
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>

<!-- STYLES -->
<link rel="stylesheet" href="{% static 'css/dashboard.css' %}">
</head>
<body data-theme="dark">

<!-- LEFT SIDEBAR -->
<div class="sidebar">
    <div class="logo">
        <img src="{% static 'images/university_logo.png' %}" alt="University Logo">
        <span>PCIU IoT</span>
    </div>
    <ul>
        <li><a href="#" class="active"><i class="fas fa-gauge"></i> Dashboard</a></li>
        <li><a href="#"><i class="fas fa-chart-line"></i> Analytics</a></li>
        <li><a href="#"><i class="fas fa-users"></i> Team</a></li>
    </ul>
</div>

<!-- MAIN -->
<div class="main">

    <!-- HEADER -->
    <div class="header-container">
        <div class="header-center">
            <h1 class="project-title">
                A Django-Integrated IoT Framework for Piezoelectric Energy Harvesting and Speed Monitoring in Bluetooth-Controlled Electric Vehicle
            </h1>
            <div class="university-info">
                <span class="university-name">PCIU</span> | 
                <span class="supervisor-name">Supervisor: Prof. John Doe</span>
            </div>
        </div>
        <div class="header-right">
            <div id="connection-status" class="status-badge status-disconnected">WAITING...</div>
            <div class="theme-toggle" id="themeToggle"><i class="fas fa-sun"></i></div>
        </div>
    </div>

    <!-- LIGHT CONTROL -->
    <div class="glass-container">
        <h2 class="section-title"><i class="fas fa-lightbulb"></i> Light Control</h2>
        <div class="controls-grid">
            <div class="control-card">
                <h3>Common Light</h3>
                <label class="switch"><input type="checkbox" id="commonSwitch"><span class="slider"></span></label>
            </div>
            <div class="control-card">
                <h3>Arduino Relay</h3>
                <label class="switch"><input type="checkbox" id="arduinoSwitch"><span class="slider"></span></label>
            </div>
            <div class="control-card">
                <h3>NodeMCU Relay</h3>
                <label class="switch"><input type="checkbox" id="nodemcuSwitch"><span class="slider"></span></label>
            </div>
        </div>
    </div>

    <!-- SPEED GAUGE -->
    <div class="glass-container speed-card">
        <h2 class="section-title"><i class="fas fa-tachometer-alt"></i> Vehicle Speed</h2>
        <div id="speed-gauge" style="width:100%; max-width:400px; height:300px; margin:auto;"></div>
        <div class="speed-value" id="speed-value" style="text-align:center; font-size:24px; margin-top:10px;">0 km/h</div>
    </div>

    <!-- PIEZO & LATENCY -->
    <div class="glass-container">
        <div class="key-metrics-grid">
            <div class="key-metric-card">
                <div class="key-metric-label">Piezo Voltage</div>
                <input type="range" id="piezo-slider" min="0" max="5" step="0.1" value="0" disabled>
                <div id="piezo-value" style="margin-top:5px;">0.0 V</div>
            </div>
            <div class="key-metric-card">
                <div class="key-metric-label">Latency</div>
                <div id="latency-gauge" style="width:100%; height:200px;"></div>
            </div>
        </div>
    </div>

    <!-- IR SENSORS -->
    <div class="glass-container">
        <h2 class="section-title"><i class="fas fa-satellite-dish"></i> IR Sensors</h2>
        <div class="ir-grid">
            <div class="ir-card" id="arduino_ir1_card"><div class="ir-value" id="arduino_ir1">—</div><div class="ir-label">Arduino IR1</div></div>
            <div class="ir-card" id="arduino_ir2_card"><div class="ir-value" id="arduino_ir2">—</div><div class="ir-label">Arduino IR2</div></div>
            <div class="ir-card" id="nodemcu_ir1_card"><div class="ir-value" id="nodemcu_ir1">—</div><div class="ir-label">NodeMCU IR1</div></div>
            <div class="ir-card" id="nodemcu_ir2_card"><div class="ir-value" id="nodemcu_ir2">—</div><div class="ir-label">NodeMCU IR2</div></div>
        </div>
    </div>

</div>

<!-- JS -->
<script src="{% static 'js/dashboard.js' %}"></script>
</body>
</html>
